(window.webpackJsonpadmin=window.webpackJsonpadmin||[]).push([[0],{11:function(e,n,t){},14:function(e,n,t){e.exports=t.p+"static/media/DOOD_Logo600.42ae8c20.png"},17:function(e,n,t){e.exports=t(28)},22:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(12),i=t.n(l),r=(t(22),t(7)),c=t.n(r),s=t(13),u=t(2),h=t(3),d=t(5),m=t(4),p=t(1),g=t(6),f=(t(11),t(14)),v=t.n(f);var b=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,"Panel")))},E=t(15),w=function(){return fetch("http://public.valjang.fr:5000/client").then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){return e.json()}))},k=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(d.a)(this,Object(m.a)(n).call(this,e))).handleSubmit=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://public.valjang.fr:5000/user/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t.state.login,password:t.state.password})}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)}))),t.state={Iflogin:!1,client:"[no select]",token:"",ServerBackend:"http://public.valjang.fr:5000",DoodLogo:!0,clientID:"0",login:"",password:"",message:""},t.BDDGetclient=t.BDDGetclient.bind(Object(p.a)(t)),t.handleChange=t.handleChange.bind(Object(p.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(p.a)(t)),t.handleChangePa=t.handleChangePa.bind(Object(p.a)(t)),t}return Object(g.a)(n,e),Object(h.a)(n,[{key:"handleChange",value:function(e){this.setState({login:e.target.value}),console.log(this.state.login)}},{key:"handleChangePa",value:function(e){console.log("RESULTAT: "+this.handleSubmit()),this.setState({password:e.target.value}),console.log(this.state.password)}},{key:"login",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("label",null,"Login :",o.a.createElement("input",{type:"text",name:"login",value:this.state.login,onChange:this.handleChange})),o.a.createElement("br",null),o.a.createElement("label",null,"password :",o.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChangePa})),o.a.createElement("br",null),o.a.createElement("input",{class:"favorite styled",type:"button",name:"Loginbtn",value:"Login",onClick:this.handleSubmit()}))))}},{key:"BDDGetclient",value:function(e){var n=this;if(e)return o.a.createElement(E.a,{promiseFn:w},(function(t){var a=t.data,l=t.err;if(t.isLoading)return"Chargement...";if(l)return"Backend Hors service :'( : ".concat(l.message);if(a)for(var i="",r=0;r<a.length;r++){var c=a[e];""==i&&(i=c.name)}return o.a.createElement("div",null,n.renderlogo(!0),o.a.createElement("p",null,"Login to ",i," Viewer"),o.a.createElement("p",null,n.state.message),n.rendercondition())}))}},{key:"renderlogo",value:function(e){return!0===e?o.a.createElement("img",{src:v.a,className:"App-logo"}):""}},{key:"rendercondition",value:function(){return 0==this.state.Iflogin?this.login():0==this.state.Iflogin?b():"Err: BackEnd: Invalid reponses: "+this.state.Iflogin}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,this.BDDGetclient(this.state.clientID)," ")))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.e5eeff45.chunk.js.map